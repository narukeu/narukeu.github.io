import{_ as e,c as a,o as i,ag as t}from"./chunks/framework.lo-SgHyK.js";const c=JSON.parse('{"title":"在主机上设置 Linux 客户机 SSH 免密钥登录","description":"","frontmatter":{},"headers":[],"relativePath":"articles/set-ssh-and-set-agent.md","filePath":"articles/set-ssh-and-set-agent.md","lastUpdated":1770041019000}'),h={name:"articles/set-ssh-and-set-agent.md"};function n(l,s,d,r,p,o){return i(),a("div",null,[...s[0]||(s[0]=[t('<h1 id="在主机上设置-linux-客户机-ssh-免密钥登录" tabindex="-1">在主机上设置 Linux 客户机 SSH 免密钥登录 <a class="header-anchor" href="#在主机上设置-linux-客户机-ssh-免密钥登录" aria-label="Permalink to “在主机上设置 Linux 客户机 SSH 免密钥登录”">​</a></h1><h2 id="_1-生成-ssh-密钥对" tabindex="-1">1. 生成 SSH 密钥对 <a class="header-anchor" href="#_1-生成-ssh-密钥对" aria-label="Permalink to “1. 生成 SSH 密钥对”">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ed25519</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;your_email@example.com&quot;</span></span></code></pre></div><p><code>ed25519</code> 是现代且安全的算法，而且比 RSA 要短。也可以用传统的 RSA。</p><p>然后建议最好设置一个口令。</p><h2 id="_2-将公钥复制到-linux-客户机" tabindex="-1">2. 将公钥复制到 Linux 客户机 <a class="header-anchor" href="#_2-将公钥复制到-linux-客户机" aria-label="Permalink to “2. 将公钥复制到 Linux 客户机”">​</a></h2><p>SSH 登录客户机，然后用 <code>nano</code> 编辑 <code>~/.ssh/authorized_keys</code> 文件，将公钥（<code>*.pub</code>）内容复制进去保存退出。</p><p>然后设置 <code>600</code> 权限。</p><h2 id="_3-测试-ssh-免密钥登录" tabindex="-1">3. 测试 SSH 免密钥登录 <a class="header-anchor" href="#_3-测试-ssh-免密钥登录" aria-label="Permalink to “3. 测试 SSH 免密钥登录”">​</a></h2><p>按照正常的 SSH 登录命令登录客户机，如果因为设置了口令而每次都需要输入口令，可以使用 SSH Agent 来管理密钥。</p><p>如在 Windows 上，先在服务中启用和启动 <code>OpenSSH Authentication Agent</code> 服务，然后在 PowerShell 中运行：</p><div class="language-powershell"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ssh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">add $</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">env:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">USERPROFILE\\.ssh\\id_ed25519</span></span></code></pre></div>',12)])])}const g=e(h,[["render",n]]);export{c as __pageData,g as default};
